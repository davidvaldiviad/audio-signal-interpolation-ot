<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Multi-Experiment Demo</title>

  <!-- DataTables CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"
  />

  <style>
    body {
      font-family: sans-serif;
      margin: 20px;
    }
    /* Simple styling for containers and collapsible sections */
    .input-signals-container {
      display: flex;
      gap: 40px;
      margin-bottom: 20px;
      border: 2px solid #777;
      padding: 20px;
    }
    .input-signal-box {
      flex: 1;
      min-height: 180px;
    }
    .collapsible-header {
      cursor: pointer;
      background-color: #f0f0f0;
      padding: 10px;
      margin-top: 20px;
      font-weight: bold;
      border: 1px solid #ccc;
    }
    .collapsible-content {
      padding: 10px;
      border: 1px solid #ccc;
      border-top: none;
      display: none; /* hidden by default */
      margin-bottom: 20px;
    }
    .thumb-img {
      max-width: 60px;
      cursor: pointer;
    }
    /* Modal for enlarged images */
    #imageModal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.8);
    }
    #imageModalContent {
      display: block;
      margin: 80px auto;
      max-width: 80%;
      max-height: 80%;
    }
    #imageModalClose {
      position: absolute;
      top: 20px; right: 35px;
      color: #fff;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Interpolation with exact OT and Unbalanced OT + Structured cost matrix</h1>

<!-- Dropdown to switch among Experiments -->
<div style="margin-bottom: 20px;">
  <label for="expSelector"><strong>Select Experiment:</strong></label>
  <select id="expSelector">
    <option value="ExpA">Piano/Guitar</option>
    <option value="ExpB">Cicada/Water</option>
    <option value="ExpC">Guitar Clean/OD</option>
    <option value="ExpD">Piano A3/C3</option>
    <option value="ExpE">Piano/Cicada</option>
    <option value="ExpF">Piano/Water</option>
  </select>
</div>

<!-- Two input signals side by side -->
<div class="input-signals-container">
  <div class="input-signal-box" id="inputBox1">
    <h3>Source</h3>
    <audio id="sourceAudio" controls preload="none" style="width: 200px;"></audio>
    <br />
    <img id="sourceImage" src="" alt="Source spectrogram" style="max-width: 2000px;" />
  </div>
  <div class="input-signal-box" id="inputBox2">
    <h3>Target</h3>
    <audio id="targetAudio" controls preload="none" style="width: 200px;"></audio>
    <br />
    <img id="targetImage" src="" alt="Target spectrogram" style="max-width: 2000px;" />
  </div>
</div>

<!-- Collapsible: Selected Results -->
<div class="collapsible-header" id="selectedHeader">Selected Results - Click to Show/Hide</div>
<div class="collapsible-content" id="selectedContent">
  <table id="selectedTable" class="display" style="width:100%;">
    <thead>
      <tr>
        <th>Method</th>
        <th>Interpolation</th>
        <th>Regularization</th>
        <th>Time-limiting</th>
        <th>Audio</th>
        <th>Spectrogram</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- Collapsible: Subset2 -->
<div class="collapsible-header" id="otHeader">Exact OT</div>
<div class="collapsible-content" id="otContent">
  <!-- We only filter param1, param2, param3. If Subset2 uses param2, we can still show param0. 
       But let's show a single dropdown for param2 in this example: -->
  <label for="otParam1Dropdown">Filter Interpolation:</label>
  <select id="otParam1Dropdown">
    <!-- Populated dynamically in paramDropdowns.js -->
  </select>

  <table id="otTable" class="display" style="width:100%;">
    <thead>
      <tr>
        <th>Type</th>
        <th>Interpolation</th>
        <th>Audio</th>
        <th>Spectrogram</th>
        <th>Select/Unselect</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- Collapsible: Subset1 -->
<div class="collapsible-header" id="uotHeader">Unbalanced OT + Structured cost matrix</div>
<div class="collapsible-content" id="uotContent">
  <!-- Suppose Subset1 uses param0, param1, param2, param3 
       We won't filter param0; we filter param1, param2, param3 via dropdowns: -->
  <label for="uotParam1Dropdown">Interpolation:</label>
  <select id="uotParam1Dropdown"></select>

  <label for="uotParam2Dropdown">Regularization:</label>
  <select id="uotParam2Dropdown"></select>

  <label for="uotParam3Dropdown">Time-limiting:</label>
  <select id="uotParam3Dropdown"></select>

  <table id="uotTable" class="display" style="width:100%;">
    <thead>
      <tr>
        <th>Method</th>
        <th>Interpolation</th>
        <th>Regularization</th>
        <th>Time-limiting</th>
        <th>Audio</th>
        <th>Spectrogram</th>
        <th>Select/Unselect</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- Image modal -->
<div id="imageModal">
  <span id="imageModalClose">&times;</span>
  <img id="imageModalContent" />
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

<!-- Our separate JS files -->
<script src="piano-guitar.js"></script>
<script src="cicada-water.js"></script>
<script src="guitar-clean-od.js"></script>
<script src="piano-a-c.js"></script>
<script src="piano-cicada.js"></script>
<script src="piano-water.js"></script>
<script src="paramDropdowns.js"></script>
<script src="main.js"></script>

</body>
</html>
